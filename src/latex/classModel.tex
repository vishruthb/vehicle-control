\hypertarget{classModel}{}\section{Model Class Reference}
\label{classModel}\index{Model@{Model}}


Base \mbox{\hyperlink{classModel}{Model}} Class. Takes care of all of the low-\/level details needed to implement the cost function, dynamics. Derive from this class and override the pure virtual functions Cost(t,x(t),u(t),u(t+1)), Terminal\+Cost(x(\+N)), and DynamicsF(t,x(t),u(t));.  




{\ttfamily \#include $<$Model.\+h$>$}

Inheritance diagram for Model\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=3.000000cm]{classModel}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{classModel_a5a1534764960064921f2823621a1dddb}\label{classModel_a5a1534764960064921f2823621a1dddb}} 
typedef {\bfseries C\+P\+P\+A\+D\+\_\+\+T\+E\+S\+T\+V\+E\+C\+T\+OR} (AD$<$ double $>$) A\+Dvector
\item 
\mbox{\hyperlink{classModel_aa480bf5dbdbf89e5221ab1aef113ece0}{Model}} (int \mbox{\hyperlink{classModel_aca776f8a10906afa8a5c362034727921}{N}}, int \mbox{\hyperlink{classModel_a951f42de158e872b5affece79521b968}{nx}}, int \mbox{\hyperlink{classModel_a0afbb992dab28ae89f1b0b114d65689c}{nu}}, int delay, const vector$<$ double $>$ \&trajectory=\{\})
\item 
void \mbox{\hyperlink{classModel_a98b6f05729855e93672272f5a9763566}{set\+\_\+trajectory}} (vector$<$ double $>$ \&trajectory)
\item 
\mbox{\Hypertarget{classModel_a13639c921a1b81ae17f349bf866deb9d}\label{classModel_a13639c921a1b81ae17f349bf866deb9d}} 
bool {\bfseries initialized} ()
\item 
\mbox{\Hypertarget{classModel_a206c5adc8789eed1598f61be030247af}\label{classModel_a206c5adc8789eed1598f61be030247af}} 
vector$<$ int $>$ \& \mbox{\hyperlink{classModel_a206c5adc8789eed1598f61be030247af}{starts}} ()
\begin{DoxyCompactList}\small\item\em returns reference to starts vector \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classModel_a951f42de158e872b5affece79521b968}\label{classModel_a951f42de158e872b5affece79521b968}} 
int \mbox{\hyperlink{classModel_a951f42de158e872b5affece79521b968}{nx}} ()
\begin{DoxyCompactList}\small\item\em returns state dim nx \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classModel_a0afbb992dab28ae89f1b0b114d65689c}\label{classModel_a0afbb992dab28ae89f1b0b114d65689c}} 
int \mbox{\hyperlink{classModel_a0afbb992dab28ae89f1b0b114d65689c}{nu}} ()
\begin{DoxyCompactList}\small\item\em returns input dim nu \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classModel_aca776f8a10906afa8a5c362034727921}\label{classModel_aca776f8a10906afa8a5c362034727921}} 
int \mbox{\hyperlink{classModel_aca776f8a10906afa8a5c362034727921}{N}} ()
\begin{DoxyCompactList}\small\item\em returns horizon N \end{DoxyCompactList}\item 
virtual int \mbox{\hyperlink{classModel_ab98f8c18036d9bada533325300865c5e}{xstart}} ()=0
\item 
virtual int \mbox{\hyperlink{classModel_ae505a277c05e465d0a41fa75d4116350}{ystart}} ()=0
\item 
void \mbox{\hyperlink{classModel_a138487dfb01ab6af0856c493f20ad179}{operator()}} (A\+D\+Vec \&fg, const A\+D\+Vec \&vars)
\end{DoxyCompactItemize}
\subsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{classModel_aeae66d77dcacb0121cf68f268f1d05c7}\label{classModel_aeae66d77dcacb0121cf68f268f1d05c7}} 
virtual AD$<$ double $>$ \mbox{\hyperlink{classModel_aeae66d77dcacb0121cf68f268f1d05c7}{Cost}} (int t, const A\+D\+Vec \&xt, const A\+D\+Vec \&ut, const A\+D\+Vec \&utp1)=0
\begin{DoxyCompactList}\small\item\em Pure virtual function\+: should return per-\/stage cost. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classModel_a7572e6d1528397d7caa2c55291fc7527}\label{classModel_a7572e6d1528397d7caa2c55291fc7527}} 
virtual AD$<$ double $>$ \mbox{\hyperlink{classModel_a7572e6d1528397d7caa2c55291fc7527}{Terminal\+Cost}} (const A\+D\+Vec \&xN)=0
\begin{DoxyCompactList}\small\item\em Pure virtual function\+: should return terminal cost. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classModel_a784c4ed8ec188f4a50094057472e2fc3}\label{classModel_a784c4ed8ec188f4a50094057472e2fc3}} 
virtual A\+D\+Vec \mbox{\hyperlink{classModel_a784c4ed8ec188f4a50094057472e2fc3}{DynamicsF}} (int t, const A\+D\+Vec \&xt, const A\+D\+Vec \&ut)=0
\begin{DoxyCompactList}\small\item\em Pure virtual function\+: should return x(t+1) = f(x(t),u(t)) \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classModel_a1778b5ed2a8d6fc6ab9e6e90a6ece590}\label{classModel_a1778b5ed2a8d6fc6ab9e6e90a6ece590}} 
{\footnotesize template$<$typename Vector $>$ }\\Vector \mbox{\hyperlink{classModel_a1778b5ed2a8d6fc6ab9e6e90a6ece590}{x\+\_\+t}} (int t, const Vector \&vars)
\begin{DoxyCompactList}\small\item\em Helper function to extract x(t) from vars. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classModel_a2e0937c8d3f5b62cf90ced25903c38d1}\label{classModel_a2e0937c8d3f5b62cf90ced25903c38d1}} 
{\footnotesize template$<$typename Vector $>$ }\\Vector \mbox{\hyperlink{classModel_a2e0937c8d3f5b62cf90ced25903c38d1}{u\+\_\+t}} (int t, const Vector \&vars)
\begin{DoxyCompactList}\small\item\em Helper function to extract u(t) from vars. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Protected Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{classModel_aa6c6273a32932807a0493a4bbbddc3ac}\label{classModel_aa6c6273a32932807a0493a4bbbddc3ac}} 
int {\bfseries N\+\_\+}
\item 
\mbox{\Hypertarget{classModel_aa6366c28ab7954d88654d8068e6d2fcf}\label{classModel_aa6366c28ab7954d88654d8068e6d2fcf}} 
int \mbox{\hyperlink{classModel_aa6366c28ab7954d88654d8068e6d2fcf}{nx\+\_\+}}
\begin{DoxyCompactList}\small\item\em \begin{quote}
optimization horizon is N\+\_\+-\/1\end{quote}
\end{DoxyCompactList}\item 
\mbox{\Hypertarget{classModel_a15ec07a022d857863dcde067d0103aa5}\label{classModel_a15ec07a022d857863dcde067d0103aa5}} 
int \mbox{\hyperlink{classModel_a15ec07a022d857863dcde067d0103aa5}{nu\+\_\+}}
\begin{DoxyCompactList}\small\item\em \begin{quote}
state dimension\end{quote}
\end{DoxyCompactList}\item 
\mbox{\Hypertarget{classModel_aac68536265db5eab9bb3967db61c8f70}\label{classModel_aac68536265db5eab9bb3967db61c8f70}} 
int \mbox{\hyperlink{classModel_aac68536265db5eab9bb3967db61c8f70}{delay\+\_\+}}
\begin{DoxyCompactList}\small\item\em \begin{quote}
input dimension\end{quote}
\end{DoxyCompactList}\item 
\mbox{\Hypertarget{classModel_a9ae228c1b5463523cf3f3a844ec7ffc5}\label{classModel_a9ae228c1b5463523cf3f3a844ec7ffc5}} 
vector$<$ int $>$ \mbox{\hyperlink{classModel_a9ae228c1b5463523cf3f3a844ec7ffc5}{starts\+\_\+}}
\begin{DoxyCompactList}\small\item\em \begin{quote}
input delay\+: x(t+1) = f(x(t),u(t-\/delay\+\_\+))\end{quote}
\end{DoxyCompactList}\item 
vector$<$ double $>$ \mbox{\hyperlink{classModel_aa44a513ae9e81e8d3ed3e2add680367f}{trajectory\+\_\+}}
\end{DoxyCompactItemize}


\subsection{Detailed Description}
Base \mbox{\hyperlink{classModel}{Model}} Class. Takes care of all of the low-\/level details needed to implement the cost function, dynamics. Derive from this class and override the pure virtual functions Cost(t,x(t),u(t),u(t+1)), Terminal\+Cost(x(\+N)), and DynamicsF(t,x(t),u(t));. 

\subsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classModel_aa480bf5dbdbf89e5221ab1aef113ece0}\label{classModel_aa480bf5dbdbf89e5221ab1aef113ece0}} 
\index{Model@{Model}!Model@{Model}}
\index{Model@{Model}!Model@{Model}}
\subsubsection{\texorpdfstring{Model()}{Model()}}
{\footnotesize\ttfamily Model\+::\+Model (\begin{DoxyParamCaption}\item[{int}]{N,  }\item[{int}]{nx,  }\item[{int}]{nu,  }\item[{int}]{delay,  }\item[{const vector$<$ double $>$ \&}]{trajectory = {\ttfamily \{\}} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Establishes opitmization horizon (N), state-\/dim (nx), input-\/dim (nu), input delay (delay), and populates bookkeeping vector starts\+\_\+ 

\subsection{Member Function Documentation}
\mbox{\Hypertarget{classModel_a138487dfb01ab6af0856c493f20ad179}\label{classModel_a138487dfb01ab6af0856c493f20ad179}} 
\index{Model@{Model}!operator()@{operator()}}
\index{operator()@{operator()}!Model@{Model}}
\subsubsection{\texorpdfstring{operator()()}{operator()()}}
{\footnotesize\ttfamily void Model\+::operator() (\begin{DoxyParamCaption}\item[{A\+D\+Vec \&}]{fg,  }\item[{const A\+D\+Vec \&}]{vars }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Functor operator that is called by Ip\+O\+PT. This implements the low level details \mbox{\Hypertarget{classModel_a98b6f05729855e93672272f5a9763566}\label{classModel_a98b6f05729855e93672272f5a9763566}} 
\index{Model@{Model}!set\+\_\+trajectory@{set\+\_\+trajectory}}
\index{set\+\_\+trajectory@{set\+\_\+trajectory}!Model@{Model}}
\subsubsection{\texorpdfstring{set\+\_\+trajectory()}{set\_trajectory()}}
{\footnotesize\ttfamily void Model\+::set\+\_\+trajectory (\begin{DoxyParamCaption}\item[{vector$<$ double $>$ \&}]{trajectory }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Called by \mbox{\hyperlink{classMPC}{M\+PC}} to set \mbox{\hyperlink{classModel}{Model}}\textquotesingle{}s trajectory\+\_\+ to \mbox{\hyperlink{classMPC}{M\+PC}}\textquotesingle{}s warmstart\+\_\+, where the latter term is teh solution to the previous \mbox{\hyperlink{classMPC}{M\+PC}} run \mbox{\Hypertarget{classModel_ab98f8c18036d9bada533325300865c5e}\label{classModel_ab98f8c18036d9bada533325300865c5e}} 
\index{Model@{Model}!xstart@{xstart}}
\index{xstart@{xstart}!Model@{Model}}
\subsubsection{\texorpdfstring{xstart()}{xstart()}}
{\footnotesize\ttfamily virtual int Model\+::xstart (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [pure virtual]}}

Needed to plot \mbox{\hyperlink{classMPC}{M\+PC}} planned trajectory in simulator\+: should return starts\+\_\+\mbox{[}X\mbox{]}, where X specifies the the position of X in the the state vector. e.\+g. if state\mbox{[}0\mbox{]} = x, then xstart shoudl return starts\+\_\+\mbox{[}0\mbox{]}; 

Implemented in \mbox{\hyperlink{classBikeModel_a920787379d6fef804f46bc1f3f885a89}{Bike\+Model}}.

\mbox{\Hypertarget{classModel_ae505a277c05e465d0a41fa75d4116350}\label{classModel_ae505a277c05e465d0a41fa75d4116350}} 
\index{Model@{Model}!ystart@{ystart}}
\index{ystart@{ystart}!Model@{Model}}
\subsubsection{\texorpdfstring{ystart()}{ystart()}}
{\footnotesize\ttfamily virtual int Model\+::ystart (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [pure virtual]}}

Needed to plot \mbox{\hyperlink{classMPC}{M\+PC}} planned trajectory in simulator\+: should return starts\+\_\+\mbox{[}Y\mbox{]}, where Y specifies the the position of X in the the state vector. e.\+g. if state\mbox{[}1\mbox{]} = y, then xstart shoudl return starts\+\_\+\mbox{[}1\mbox{]}; 

Implemented in \mbox{\hyperlink{classBikeModel_a05b988f106df902d1222dfb662d4b1fa}{Bike\+Model}}.



\subsection{Member Data Documentation}
\mbox{\Hypertarget{classModel_aa44a513ae9e81e8d3ed3e2add680367f}\label{classModel_aa44a513ae9e81e8d3ed3e2add680367f}} 
\index{Model@{Model}!trajectory\+\_\+@{trajectory\+\_\+}}
\index{trajectory\+\_\+@{trajectory\+\_\+}!Model@{Model}}
\subsubsection{\texorpdfstring{trajectory\+\_\+}{trajectory\_}}
{\footnotesize\ttfamily vector$<$double$>$ Model\+::trajectory\+\_\+\hspace{0.3cm}{\ttfamily [protected]}}

\begin{quote}
bookkeeping vector\+: starts\+\_\+\mbox{[}i\mbox{]} says where in optimization vector vars component i (either a scalar state or input) \end{quote}


The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
Model.\+h\end{DoxyCompactItemize}
